<div class="row">
    <div class="col-12">
        <div class="card">
            <div class="card-body">

                <div class="d-flex justify-content-between">

                    <h3 class="text-muted m-t-10 m-b-0">Detalle de la Orden de Carga</h3>
                    <div>
                        Estatus:
                        <p [ngSwitch]=this.service.formData.Estatus>
                            <span *ngSwitchCase="'Creada'" class="label label-light-success">CREADA</span>
                            <span *ngSwitchCase="'Preparada'" class="label label-light-info">PREPARADA</span>
                            <span *ngSwitchCase="'Cargada'" class="label label-light-inverse">CARGADA</span>
                            <span *ngSwitchCase="'Terminada'" class="label label-light-inverse">TERMINADA</span>
                            <span *ngSwitchCase="'Sin Validar'" class="label label-light-danger">SIN VALIDAR</span>

                        </p>




                    </div>
                    <!-- <button class="mt-2" mat-raised-button (click)="Regresar()" color="primary">Regresar</button> -->
                    <button mat-fab (click)="regresar()" class="btncoti">
                        <mat-icon>undo</mat-icon>
                      </button>

                </div>
                <!-- 

            <div class="container">
                <div class="row">
                    <div class="col-11">
                        <h2 style="text-align: center;">Detalle de la Orden de Carga</h2>
                        <h4>Estatus: {{estatusOC}}</h4>
                    </div>
                    <div class="col-1">

                        <button class="btn btn-primary" type="button" (click)="regresar()">Regresar</button>
                    </div>
                </div>
            </div> -->
                <br>
                <hr>
                <br>

                <div class="col-12 mat-elevation-z5">
                    <div class="card">
                        <div class="card-body">

                            <div class="form-material">

                                <div class="container">
                                    <div class="row">

                                        <div class="col-4 col-md-4">

                                            <label class="input-group-text text-info txt">Fletera: </label>
                                            <input type="text" class="form-control" name="Fletera" #Fletera="ngModel" [(ngModel)]="service.formData.Fletera" readonly>
                                        </div>
                                        <div class="col-4 col-md-4">

                                            <label class="input-group-text text-info">Numero de Caja: </label>
                                            <input type="text" class="form-control" name="NumCaja" #NumCaja="ngModel" [(ngModel)]="service.formData.Caja" readonly>

                                        </div>
                                        <div class="col-4 col-md-4">

                                            <label class="input-group-text text-info">Sello de Caja: </label>
                                            <input type="text" class="form-control" name="Sello" #Sello="ngModel" (blur)="onBlurSelloCaja()" [(ngModel)]="selloCaja">

                                        </div>


                                    </div>
                                </div>
                            </div>
                            <br>
                            <hr>
                            <div style="overflow:auto;">

                                <table mat-table [dataSource]="listData" matSort class="scrollable" multiTemplateDataRows>

                                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>


                                    <!-- <ng-container matColumnDef="IdTarima">
                                        <th mat-header-cell *matHeaderCellDef mat-sort-header>IdTarima</th>
                                        <td mat-cell *matCellDef="let element">{{element.IdTarima}}
                                            <td>
                                    </ng-container>

                                    <ng-container matColumnDef="QR">
                                        <th mat-header-cell *matHeaderCellDef mat-sort-header>QR</th>
                                        <td mat-cell *matCellDef="let element">{{element.QR}}
                                            <td>
                                    </ng-container> -->

                                    <ng-container matColumnDef="ClaveProducto">
                                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Clave Producto</th>
                                        <td mat-cell *matCellDef="let element">{{element.ClaveProducto}}
                                            <td>
                                    </ng-container>

                                    <ng-container matColumnDef="Producto">
                                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Producto</th>
                                        <td mat-cell *matCellDef="let element">{{element.Producto}}
                                        </td>
                                    </ng-container>

                                    <ng-container matColumnDef="Kilogramos">
                                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Kilogramos</th>
                                        <td mat-cell *matCellDef="let element">{{element.PesoTotal}}
                                        </td>
                                    </ng-container>

                                    <ng-container matColumnDef="Lote">
                                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Lote</th>
                                        <td mat-cell *matCellDef="let element">{{element.Lote}}
                                        </td>
                                    </ng-container>

                                    <ng-container matColumnDef="Proveedor">
                                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Proveedor</th>
                                        <td mat-cell *matCellDef="let element">{{element.Proveedor}}</td>
                                    </ng-container>

                                    <ng-container matColumnDef="PO">
                                        <th mat-header-cell *matHeaderCellDef mat-sort-header>PO</th>
                                        <td mat-cell *matCellDef="let element">{{element.PO}}
                                        </td>
                                    </ng-container>

                                    <ng-container matColumnDef="FechaMFG">
                                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Fecha MFG</th>
                                        <td mat-cell *matCellDef="let element">{{element.FechaMFG | date: "yyyy-MM-dd"}}
                                        </td>
                                    </ng-container>

                                    <ng-container matColumnDef="FechaCaducidad">
                                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Fecha de Caducidad</th>
                                        <td mat-cell *matCellDef="let element">{{element.FechaCaducidad | date: "yyyy-MM-dd"}}
                                        </td>
                                    </ng-container>
                                    <ng-container matColumnDef="Bodega">
                                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Bodega</th>
                                        <td mat-cell *matCellDef="let element">{{element.Bodega}}
                                        </td>
                                    </ng-container>
                                    <!-- <ng-container matColumnDef="USDA">
                                        <th mat-header-cell *matHeaderCellDef mat-sort-header>USDA</th>
                                        <td mat-cell *matCellDef="let element">{{element.USDA}}
                                        </td>
                                    </ng-container> -->
                                    <ng-container matColumnDef="Shipper">
                                        <th mat-header-cell *matHeaderCellDef mat-sort-header>N. Factura</th>
                                        <td mat-cell *matCellDef="let element">{{element.Shipper}}
                                        </td>
                                    </ng-container>
                                    <ng-container matColumnDef="Pedimento">
                                        <th mat-header-cell *matHeaderCellDef mat-sort-header>N. Entrada</th>
                                        <td mat-cell *matCellDef="let element">{{element.Pedimento}}
                                        </td>
                                    </ng-container>

                                </table>

                            </div>
                            <br>
                            <br>
                            <div class="container" style="margin-right: 0;">
                                <div class="row">
                                    <div style="display: grid;" class="col-0 col-md-4">
                                        <br>
                                        <button *ngIf="this.estatusOC=='Sin Validar'" class="btn btncoti btn-lg" mat-raised-button type="button" (click)="validar()">Validar</button>
                                    </div>
                                    <div style="display: grid;" class="col-12 col-md-2" *ngIf="this.estatusOC == 'Creada'">
                                        <button id="PrepararCarga" [hidden]="true" class="btn btn-info btn-lg" data-toggle="modal"></button>
                                        <button [disabled]="Preparar == false" class="btn btncoti btn-lg" mat-raised-button type="button" (click)="preparar()">Preparar</button>
                                        <!-- <p><button class="btn btn-info btn-lg" mat-raised-button type="button" (click)="preparar()"><mat-icon>undo</mat-icon>Preparar</button></p> -->



                                        <br>
                                    </div>
                                    <div style="display: grid;" class="col-12 col-md-2" *ngIf="this.estatusOC == 'Preparada' && ((this.service.formData.Fletera==='Foraneo') || (this.service.formData.Fletera!=='Sucursal' && this.service.formData.Fletera!=='Local' && this.service.formData.Fletera!=='Paqueteria'))">
                                        <button id="CargarCarga" [hidden]="true" class="btn btn-info btn-lg" data-toggle="modal"></button>
                                        <button [disabled]="Cargar == false" class="btn btncoti btn-lg" mat-raised-button type="button" (click)="cargar()">Cargar</button>
                                        <br>
                                    </div>
                                    <div style="display: grid;" class="col-12 col-md-2" *ngIf="this.estatusOC == 'Preparada' && (this.service.formData.Fletera==='Sucursal' || this.service.formData.Fletera==='Local' || this.service.formData.Fletera==='Paqueteria')">
                                        <button id="CargarCarga" [hidden]="true" class="btn btn-info btn-lg" data-toggle="modal"></button>
                                        <button [disabled]="Salida == false" class="btn btncoti btn-lg" mat-raised-button type="button" (click)="salida()">Salida</button>
                                        <br>
                                    </div>
                                    <div style="display: grid;" class="col-12 col-md-2" *ngIf="this.estatusOC == 'Cargada' || estatusOC == 'Terminada'">
                                        <button id="EnviarCarga" [hidden]="true" class="btn btn-info btn-lg" data-toggle="modal"></button>
                                        <button [disabled]="Enviar == false" class="btn btncoti btn-lg" mat-raised-button type="button" (click)="enviar()">Enviar</button>
                                        <br>
                                    </div>
                                    <div style="display: grid;" class="col-12 col-md-2" *ngIf="this.estatusOC == 'Cargada' || estatusOC == 'Terminada'">
                                        <button id="EnviarCarga" [hidden]="true" class="btn btn-info btn-lg" data-toggle="modal"></button>
                                        <button class="btn btncoti btn-lg" mat-raised-button type="button" (click)="formatoDocumentoPDF()">Formato Tarimas</button>
                                        <br>
                                    </div>
                                    <div style="display: grid;" class="col-12 col-md-2" *ngIf="this.estatusOC == 'Cargada' || estatusOC == 'Terminada'">
                                        <button id="EnviarCarga" [hidden]="true" class="btn btn-info btn-lg" data-toggle="modal"></button>
                                        <button class="btn btncoti btn-lg" mat-raised-button type="button" (click)="pdf()">PDF</button>
                                        <br>
                                    </div>
                                    <div style="display: grid;" class="col-12 col-md-2" *ngIf="this.estatusOC == 'Cargada' && ((this.service.formData.Fletera==='Foraneo') || (this.service.formData.Fletera!=='Sucursal' && this.service.formData.Fletera!=='Local' && this.service.formData.Fletera!=='Paqueteria'))">
                                        <button id="TerminarCarga" [hidden]="true" class="btn btn-info btn-lg" data-toggle="modal"></button>
                                        <button [disabled]="Terminar == false" class="btn btncoti btn-lg" mat-raised-button type="button" (click)="terminar()">Terminar</button>
                                        <br>
                                    </div>
                                    <!-- <div class="col-2" *ngIf="service.formData.Estatus == 'Terminada';" style="display: grid">
                        <button [hidden]="true" class="btn btn-info btn-md" data-toggle="modal"></button>
                        <button class="btn btn-info btn-lg" type="button" (click)="regresar()">Regresar</button>
                    </div> -->
                                </div>
                            </div>

                        </div>
                    </div>
                </div>




            </div>
        </div>
    </div>
</div>